import { io } from 'socket.io-client';\n\nclass RealTimeService {\n  constructor() {\n    this.socket = null;\n    this.listeners = new Map();\n  }\n\n  connect() {\n    if (!this.socket) {\n      this.socket = io('http://localhost:5000');\n      \n      this.socket.on('connect', () => {\n        console.log('Connected to real-time service');\n      });\n\n      this.socket.on('stats_update', (data) => {\n        this.notifyListeners('stats', data);\n      });\n\n      this.socket.on('training_progress', (data) => {\n        this.notifyListeners('training', data);\n      });\n\n      this.socket.on('prediction_complete', (data) => {\n        this.notifyListeners('prediction', data);\n      });\n    }\n    return this.socket;\n  }\n\n  disconnect() {\n    if (this.socket) {\n      this.socket.disconnect();\n      this.socket = null;\n    }\n  }\n\n  requestStats() {\n    if (this.socket) {\n      this.socket.emit('request_stats');\n    }\n  }\n\n  subscribe(event, callback) {\n    if (!this.listeners.has(event)) {\n      this.listeners.set(event, []);\n    }\n    this.listeners.get(event).push(callback);\n  }\n\n  unsubscribe(event, callback) {\n    if (this.listeners.has(event)) {\n      const callbacks = this.listeners.get(event);\n      const index = callbacks.indexOf(callback);\n      if (index > -1) {\n        callbacks.splice(index, 1);\n      }\n    }\n  }\n\n  notifyListeners(event, data) {\n    if (this.listeners.has(event)) {\n      this.listeners.get(event).forEach(callback => callback(data));\n    }\n  }\n}\n\nexport default new RealTimeService();